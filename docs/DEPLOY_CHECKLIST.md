# デプロイ前チェックリスト

## ✅ ビルド確認

- [x] `npm run build` が成功する
- [x] TypeScriptの型エラーがない
- [x] ESLintエラーがない

## ✅ 環境変数

- [ ] `.env.local` が `.gitignore` に含まれている
- [ ] `.env.local.example` が作成されている
- [ ] Vercelで環境変数が設定されている

## ✅ 設定ファイル

- [x] `vercel.json` が作成されている
- [x] `next.config.mjs` が適切に設定されている
- [x] すべてのAPIルートに `export const dynamic = 'force-dynamic'` が設定されている

## ✅ データベース

- [ ] Supabaseプロジェクトが作成されている
- [ ] `strata_objects` テーブルが作成されている
- [ ] RLSポリシーが設定されている
- [ ] インデックスが作成されている

## ✅ セキュリティ

- [ ] 環境変数がGitにコミットされていない
- [ ] SupabaseのRLSポリシーが適切に設定されている
- [ ] APIキーが公開されていない

## ✅ 機能確認

- [ ] ログイン・新規登録が動作する
- [ ] 3Dシーンが表示される
- [ ] メッセージ送信が動作する
- [ ] 感情解析が動作する
- [ ] データベースへの保存が動作する
- [ ] データの読み込みが動作する
- [ ] 他者の光が表示される（複数ユーザーで確認）

## ✅ パフォーマンス

- [ ] 初回ロード時間が適切（3秒以内推奨）
- [ ] 3Dシーンのフレームレートが安定（60fps推奨）
- [ ] モバイルでの動作確認

## ✅ ドキュメント

- [x] `README.md` が最新の状態
- [x] `DEPLOY.md` が作成されている
- [x] `README_DATABASE.md` が作成されている
